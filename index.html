<!DOCTYPE html>
    <html lang="en">
    <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Quote Saver</title>
      <!-- Favicon -->
      <link rel="icon" type="image/x-icon" href="/favicon.ico">
      <!-- Lexend Font -->
      <link rel="preconnect" href="https://fonts.googleapis.com">
      <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
      <link href="https://fonts.googleapis.com/css2?family=Lexend:wght@100..900&display=swap" rel="stylesheet">
      <!-- Material Symbols Rounded -->
      <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
      <!-- Custom Styles -->
      <link rel="stylesheet" href="style.css">
    </head>
    <body>
      <!-- Hidden File Input for Import -->
      <input type="file" id="importFile" accept=".txt" style="display: none;">

      <!-- Welcome Modal (Shown only on first visit) -->
      <div id="welcomeModal" class="modal-overlay welcome-modal fullscreen-modal" style="display: none;">
          <div class="modal-content">
              <h2>Welcome to Quote Saver!</h2>
              <p>Your personal space to collect, chain, and reflect on quotes.</p>

              <div class="welcome-section">
                  <h3>Choose Your Accent Colour</h3>
                  <div id="welcomeColorSwatchesContainer" class="color-swatches-container">
                      <!-- Welcome color swatches injected here -->
                  </div>
              </div>

              <div class="welcome-section">
                  <h3>Import Data (Optional)</h3>
                  <button id="welcomeImportBtn" class="button-like">
                      <span class="material-symbols-rounded">upload</span>
                      Import from TXT
                  </button>
              </div>


              <div class="welcome-agreement-section">
                  <div class="welcome-agreement">
                      <!-- Custom SVG Checkbox for Legal -->
                      <div class="checkbox-wrapper-30">
                        <span class="checkbox">
                          <input type="checkbox" id="agreementCheckbox"/>
                          <svg><use xlink:href="#checkbox-30" class="checkbox"></use></svg>
                        </span>
                      </div>
                      <label for="agreementCheckbox" class="agreement-text">
                          I acknowledge the <a href="#" data-action="open-terms-welcome">Terms & Conditions</a>,
                          <a href="#" data-action="open-privacy-welcome">Privacy Policy</a>, and
                          <a href="#" data-action="open-license-welcome">License Agreement</a>.
                      </label>
                  </div>
                  <div class="welcome-agreement">
                      <!-- Custom SVG Checkbox for LocalStorage -->
                      <div class="checkbox-wrapper-30">
                        <span class="checkbox">
                          <input type="checkbox" id="localStorageConsentCheckbox"/>
                          <svg><use xlink:href="#checkbox-30" class="checkbox"></use></svg>
                        </span>
                      </div>
                      <label for="localStorageConsentCheckbox" class="agreement-text">
                          I consent for this website to use browser localStorage to save my quote data. I understand this data stays within my browser.
                      </label>
                  </div>
              </div>

              <button id="getStartedBtn" class="save-button" disabled>Get Started</button>

              <p class="settings-credits welcome-credits">
                  SahasTech in association with Layaa Inc., expert in cliffjumping, SlayRayStudios, AVD Enterprises and jNotes.
              </p>
              <p class="made-with-love">
                  Made with <span class="material-symbols-rounded heart-icon">favorite</span> by Sahas
              </p>
          </div>
          <!-- SVG Definition moved outside modal-content for potential reuse -->
          <svg xmlns="http://www.w3.org/2000/svg" style="display:none">
            <symbol id="checkbox-30" viewBox="0 0 22 22">
              <path fill="none" stroke="currentColor" d="M5.5,11.3L9,14.8L20.2,3.3l0,0c-0.5-1-1.5-1.8-2.7-1.8h-13c-1.7,0-3,1.3-3,3v13c0,1.7,1.3,3,3,3h13 c1.7,0,3-1.3,3-3v-13c0-0.4-0.1-0.8-0.3-1.2"/>
            </symbol>
          </svg>
      </div>


      <div class="app-container">
        <aside class="sidebar">
          <h1 class="sidebar-title">Quote Saver</h1>
          <nav class="sidebar-nav">
            <ul>
              <li>
                <a href="#" class="nav-item active" data-section="quotes">
                  <span class="material-symbols-rounded">format_quote</span>
                  <span>Quotes</span>
                </a>
              </li>
              <li>
                <a href="#" class="nav-item" data-section="chains">
                  <span class="material-symbols-rounded">link</span>
                  <span>Chains</span>
                </a>
              </li>
              <li>
                <a href="#" class="nav-item" data-section="paragraphs">
                  <span class="material-symbols-rounded">segment</span>
                  <span>Paragraphs</span>
                </a>
              </li>
            </ul>
          </nav>
          <div class="sidebar-footer">
            <button class="settings-button" data-action="open-settings">
              <span class="material-symbols-rounded">settings</span>
              <span>Settings</span>
            </button>
          </div>
        </aside>
        <main class="main-content">
          <!-- Content will be loaded here by script.js -->
        </main>
      </div>

      <!-- Add/Edit Quote Modal -->
      <div id="addQuoteModal" class="modal-overlay" style="display: none;">
        <div class="modal-content">
          <button class="modal-close-btn" aria-label="Close modal">
            <span class="material-symbols-rounded">close</span>
          </button>
          <h2 id="modalTitle">Add New Quote</h2>
          <form id="addQuoteForm">
            <input type="hidden" id="quoteId" name="quoteId">
            <div class="form-group">
              <label for="quoteText">Quote:</label>
              <textarea id="quoteText" name="quoteText" rows="4" required></textarea>
            </div>
            <div class="form-group">
              <label for="quoteTechnique">Technique:</label>
              <input type="text" id="quoteTechnique" name="quoteTechnique">
            </div>
            <div class="form-group">
              <label for="quoteDescription">Description:</label>
              <textarea id="quoteDescription" name="quoteDescription" rows="3"></textarea>
            </div>
            <div class="form-group">
              <label for="quotePage">Page Number:</label>
              <input type="number" id="quotePage" name="quotePage" min="0">
            </div>
            <button type="submit" class="save-button">
              <span class="material-symbols-rounded">save</span>
              <span id="saveButtonText">Save Quote</span>
            </button>
          </form>
        </div>
      </div>

      <!-- Add/Edit Chain Modal -->
      <div id="addChainModal" class="modal-overlay" style="display: none;">
          <div class="modal-content">
              <button class="modal-close-btn" aria-label="Close modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2 id="chainModalTitle">Add New Chain</h2>
              <form id="addChainForm">
                  <input type="hidden" id="chainId" name="chainId">
                  <div class="form-group">
                      <label for="chainQuoteSelect">Link to Quote:</label>
                      <select id="chainQuoteSelect" name="chainQuoteSelect" required>
                          <option value="" disabled selected>-- Select a Quote --</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <label>Effects Chain:</label>
                      <div id="chainEffectsContainer"></div>
                      <button type="button" id="addEffectBtn" class="add-effect-button">
                          <span class="material-symbols-rounded">add</span>
                          Add Effect
                      </button>
                  </div>
                  <button type="submit" class="save-button">
                      <span class="material-symbols-rounded">save</span>
                      <span id="saveChainButtonText">Save Chain</span>
                  </button>
              </form>
          </div>
      </div>

      <!-- Add/Edit Paragraph Modal -->
      <div id="addParagraphModal" class="modal-overlay" style="display: none;">
          <div class="modal-content">
              <button class="modal-close-btn" aria-label="Close modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2 id="paragraphModalTitle">Add New Paragraph</h2>
              <form id="addParagraphForm">
                  <input type="hidden" id="paragraphId" name="paragraphId">
                  <div class="form-group">
                      <label for="paragraphChainSelect">Link to Chain:</label>
                      <select id="paragraphChainSelect" name="paragraphChainSelect" required>
                          <option value="" disabled selected>-- Select a Chain --</option>
                      </select>
                  </div>
                  <div class="form-group">
                      <label for="paragraphText">Paragraph:</label>
                      <textarea id="paragraphText" name="paragraphText" rows="6" required></textarea>
                  </div>
                  <button type="submit" class="save-button">
                      <span class="material-symbols-rounded">save</span>
                      <span id="saveParagraphButtonText">Save Paragraph</span>
                  </button>
              </form>
          </div>
      </div>

      <!-- Settings Modal -->
      <div id="settingsModal" class="modal-overlay" style="display: none;">
          <div class="modal-content">
              <button class="modal-close-btn" aria-label="Close settings modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2>Settings</h2>
              <div class="setting-item">
                  <label for="darkModeToggle">Dark Mode</label>
                  <label class="switch">
                      <input type="checkbox" id="darkModeToggle">
                      <span class="slider round"></span>
                  </label>
              </div>
              <div class="setting-item">
                  <label for="accentColorBtn">Accent Colour</label>
                  <button id="accentColorBtn" class="button-like">
                      <span class="material-symbols-rounded">palette</span>
                      Change Colour
                  </button>
              </div>
              <div class="setting-item">
                  <label>Export Data</label>
                  <button id="openDownloadBtn" class="button-like">
                      <span class="material-symbols-rounded">download</span>
                      Download Data
                  </button>
              </div>
              <div class="setting-item">
                  <label>Import Data</label>
                  <button id="importBtn" class="button-like">
                      <span class="material-symbols-rounded">upload</span>
                      Import from TXT
                  </button>
              </div>
              <div class="setting-item">
                  <label>Feedback</label>
                  <button id="feedbackBtn" class="button-like">
                      <span class="material-symbols-rounded">feedback</span>
                      Send Feedback
                  </button>
              </div>
              <div class="setting-item">
                  <label>Legal</label>
                  <div class="legal-buttons">
                      <button id="termsBtn" class="button-like">
                          <span class="material-symbols-rounded">gavel</span>
                          Terms & Conditions
                      </button>
                      <button id="privacyBtn" class="button-like">
                          <span class="material-symbols-rounded">policy</span>
                          Privacy Policy
                      </button>
                      <button id="licenseBtn" class="button-like">
                          <span class="material-symbols-rounded">badge</span>
                          License Agreement
                      </button>
                  </div>
              </div>
              <div class="setting-item danger-zone">
                  <label>Danger Zone</label>
                  <button id="deleteAllDataBtn" class="button-like danger-button">
                      <span class="material-symbols-rounded">delete_forever</span>
                      Delete All Data
                  </button>
              </div>
              <img src="sahastech.png" alt="Sahastech Logo" class="settings-logo">
              <p class="settings-credits">
                  SahasTech in association with Layaa Inc., expert in cliffjumping, SlayRayStudios, AVD Enterprises and jNotes.
              </p>
              <p class="made-with-love">
                  Made with <span class="material-symbols-rounded heart-icon">favorite</span> by Sahas
              </p>
          </div>
      </div>

      <!-- Download Modal -->
      <div id="downloadModal" class="modal-overlay" style="display: none;">
          <div class="modal-content">
              <button class="modal-close-btn" aria-label="Close download modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2>Download Data</h2>
              <p>Select the data types you want to include in the download.</p>
              <div class="download-options">
                  <div class="setting-item">
                      <label for="downloadQuotesToggle">Quotes</label>
                      <label class="switch">
                          <input type="checkbox" id="downloadQuotesToggle" checked>
                          <span class="slider round"></span>
                      </label>
                  </div>
                  <div class="setting-item">
                      <label for="downloadChainsToggle">Chains</label>
                      <label class="switch">
                          <input type="checkbox" id="downloadChainsToggle" checked>
                          <span class="slider round"></span>
                      </label>
                  </div>
                  <div class="setting-item">
                      <label for="downloadParagraphsToggle">Paragraphs</label>
                      <label class="switch">
                          <input type="checkbox" id="downloadParagraphsToggle" checked>
                          <span class="slider round"></span>
                      </label>
                  </div>
              </div>
              <p class="download-note">Note: If Chains and Paragraphs are both selected, paragraphs will be grouped under their respective chains.</p>
              <button id="downloadTxtBtn" class="save-button">
                  <span class="material-symbols-rounded">description</span>
                  Download as TXT
              </button>
          </div>
      </div>

      <!-- Quote Preview Modal -->
      <div id="previewModal" class="modal-overlay" style="display: none;">
          <div class="modal-content modal-lg">
              <button class="modal-close-btn" aria-label="Close preview modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2>Quote Preview</h2>
              <div id="previewContent">
                  <!-- Preview content injected here -->
              </div>
          </div>
      </div>

      <!-- Terms & Conditions Modal -->
      <div id="termsModal" class="modal-overlay legal-modal" style="display: none;">
          <div class="modal-content modal-lg">
              <button class="modal-close-btn" aria-label="Close terms modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2>Terms and Conditions</h2>
              <div id="termsContent" class="legal-content-area">
                  <!-- Terms content injected here -->
              </div>
          </div>
      </div>

      <!-- Privacy Policy Modal -->
      <div id="privacyModal" class="modal-overlay legal-modal" style="display: none;">
          <div class="modal-content modal-lg">
              <button class="modal-close-btn" aria-label="Close privacy policy modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2>Privacy Policy</h2>
              <div id="privacyContent" class="legal-content-area">
                  <!-- Privacy Policy content injected here -->
              </div>
          </div>
      </div>

      <!-- License Agreement Modal -->
      <div id="licenseModal" class="modal-overlay legal-modal" style="display: none;">
          <div class="modal-content modal-lg">
              <button class="modal-close-btn" aria-label="Close license modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2>License Agreement</h2>
              <div id="licenseContent" class="legal-content-area">
                  <!-- License content injected here -->
              </div>
          </div>
      </div>

      <!-- Accent Color Modal -->
      <div id="accentColorModal" class="modal-overlay" style="display: none;">
          <div class="modal-content">
              <button class="modal-close-btn" aria-label="Close accent color modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2>Choose Accent Colour</h2>
              <div id="colorSwatchesContainer" class="color-swatches-container">
                  <!-- Color swatches injected here -->
              </div>
          </div>
      </div>

      <!-- Feedback Modal -->
      <div id="feedbackModal" class="modal-overlay" style="display: none;">
          <div class="modal-content">
              <button class="modal-close-btn" aria-label="Close feedback modal">
                  <span class="material-symbols-rounded">close</span>
              </button>
              <h2>Send Feedback</h2>
              <form id="feedbackForm">
                  <div class="form-group">
                      <label for="feedbackName">Name (Optional):</label>
                      <input type="text" id="feedbackName" name="feedbackName">
                  </div>
                  <div class="form-group">
                      <label for="feedbackDescription">Feedback / Description:</label>
                      <textarea id="feedbackDescription" name="feedbackDescription" rows="5" required></textarea>
                  </div>
                  <button type="submit" id="sendFeedbackBtn" class="save-button">
                      <span class="material-symbols-rounded">send</span>
                      Send Feedback
                  </button>
                  <p class="feedback-mailto-note">
                      This will open your default email client. If that is not okay, send an email to sahas.shimpi@outlook.com with your preferred email address.
                  </p>
              </form>
          </div>
      </div>


      <script src="script.js"></script>
    </body>
    </html>
